{% if let Some(handle) = session %}
# Hi, @{{handle}}!

=> /p âœï¸ New Post
=> /@{{handle}} ğŸ‘¤ View Profile
=> /n ğŸ”” Notifications

## Following
{%- for post in posts %}
=> /@{{post.username}} ğŸ‘¤ @{{post.username}}
{%- match post.context -%}
	{%- when PostContext::None -%}
	{%- when PostContext::Repost with (reposter) %} Â· reposted by @{{reposter}}
	{%- when PostContext::Reply with (author) %} Â· replying to @{{author}}
{%- endmatch -%}
{%- if post.body.len() > 0 %}
{{ post.body }}
{%- endif -%}
{%- if let Some(media) = post.media -%}
	{%- match media -%}
		{%- when Media::Image with (img) %}
=> {{img.0}} â€” {{img.1}}
		{%- when Media::External with (ext) %}
=> {{ext.0}} â€” {{ext.1}}
		{%- when Media::Video %}
â€” Video (unavailable)
		{%- when Media::Quote with (quote) %}
>ğŸ‘¤ @{{quote.author}}
			{%- for bl in quote.body.lines() %}
>{{bl}}
			{%- endfor -%}
	{%- endmatch -%}
{%- endif %}
=> /p/{{post.id}} âœ‰ï¸ {{post.replies}} replies Â· {{post.reposts}} reposts Â· {{post.likes}} likes
{% endfor -%}
{%- else -%}
# Benitoite

Welcome! You need to sign in using a registered client certificate to use this page. If your certificate doesn't work, contact your server administrator.
{%- endif -%}
